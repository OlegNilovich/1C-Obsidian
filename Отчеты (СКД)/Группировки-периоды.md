#ОТЧЕТЫ #TODO 

Хрусталева (Отчеты) => Страница 442

---

Часто в отчетах требуется вывести данные за период с промежуточными итогами по дням, месяцам, полугодиям и т. п. Для этого нужно сгруппировать данные по этим периодам.

##### Выбор периодичности виртуальной таблицы
Чтобы добавить *поля-периоды* в набор данных, нужно задать периодичность виртуальной таблицы, из которой извлекаются данные. В данном случае это таблица *Продажи.Обороты*. 
Откроем конструктор запроса и вызовем диалог параметров виртуальной таблицы. Для этого в списке таблицы нужно нажать кнопку Параметры виртуальной таблицы
![[Pasted image 20240924044530.png]]
В отчете выбраны поля-периоды *ПериодДень* и *ПериодМесяц*. При включенном свойстве *Автозаполнение*

##### Добавление группировок периодов в структуру отчета
Затем в структуру отчета добавляются группировки по полям-периодам. В группировку Контрагент добавляется группировка по полю *ПериодМесяц*, и в нее вкладывается группировка *ПериодДень*.
![[Pasted image 20240924044650.png]]

##### Результат:
Данные в отчете сгруппированы по дням и месяцам, и по каждому периоду выводится промежуточный итог
![[Pasted image 20240924044841.png]]

##### Важно: 
В отчетах можно выводить группировки-периоды, не получая при этом данных из родительских группировок. Например, группировку *Регистратор* можно использовать без ее родительской группировки *Секунда*, так как система компоновки данных сама подставит при компоновке нужные родительские поля-периоды, а внешне в отчете это никак не отразится. 

**Исключение** составляют отчеты, в которых получаются остатки по периодам. В этих случаях для подсчета правильных остатков при получении поля-периода в запросе должно присутствовать его родительское поле-период.