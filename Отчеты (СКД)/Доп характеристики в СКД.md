#ОТЧЕТЫ 

Хрусталева (Отчеты) => Страница 135 => Пример 11
Хрусталева (Отчеты) => Страница 277 => Описание характеристик в отчете
![[Pasted image 20240916212818.png]]
### Задача:
Требуется создать отчет, отражающий информацию о продажах контрагентам, с отображением дополнительной характеристики контрагентов - **Регион**. Полученные данные вывести в диаграмму
![[Pasted image 20240912212942.png]]
### Решение:
1. Создаем набор данных **Запрос**
![[Pasted image 20240912203413.png]]
2. Во вкладке **Характеристики** выполняем следующие настройки:
![[Pasted image 20240912203445.png]]
- Тип: СправочникСсылка.Контрагенты

- Источник видов: Таблица
- Виды характеристик: ПланВидовХарактеристик.ВидыХарактеристик
- Поле ключа: Ссылка
- Поле имени: Наименование
- Поле типа значения: ТипЗначения

- Источник значений: Таблица
- Значения характеристик: РегистрСведений.ДополнительныеХарактеристики
- Поле объекта: Объект
- Поле вида: ВидХарактеристики
- Поле значения: Значение характеристики

**Итоговый текст запроса:**
```bsl
ВЫБРАТЬ
	ПродажиОбороты.Контрагент,
	ПродажиОбороты.СтоимостьОборот
ИЗ
	РегистрНакопления.Продажи.Обороты КАК ПродажиОбороты
{ХАРАКТЕРИСТИКИ
	ТИП(Справочник.Контрагенты)
	ВИДЫХАРАКТЕРИСТИК ПланВидовХарактеристик.ВидыХарактеристик
	ПОЛЕКЛЮЧА Ссылка
	ПОЛЕИМЕНИ Наименование
	ПОЛЕТИПАЗНАЧЕНИЯ ТипЗначения
	ЗНАЧЕНИЯХАРАКТЕРИСТИК РегистрСведений.ДополнительныеХарактеристики
	ПОЛЕОБЪЕКТА Объект
	ПОЛЕВИДА ВидХарактеристики
	ПОЛЕЗНАЧЕНИЯ ЗначениеХарактеристики }
```

3. В окне настройки **СКД** во вкладке **Ресурсы** определяем ресурс: **СтоимостьОборот**
4. Вкладка **Настройки** => Открываем **Конструктор настроек** => Выбираем **Диаграмма**
5. Выбираем поле **СтоимостьОборот**
6. Определяем серию диаграммы: **Контрагент**, жмем ОК
7. Настройки => Другие настройки => Тип диаграммы => Круговая объемная
8. Чтобы увидеть значения дополнительных характеристик или осуществить по ним отбор, нам нужно изменить вариант отчета
![[Pasted image 20240912212511.png]]
9. Для отображения значения дополнительной характеристики контрагента **Регион**, развернем реквизит **Контрагент** и перетащим реквизит **Регион** в выбранные поля
![[Pasted image 20240912212738.png]]