#ОТЧЕТЫ 
### Задача:
Требуется создать отчет **Движения номенклатуры**, на основании приходных и расходных накладных
![[Pasted image 20240920101501.png]]
### Решение:
1. Создаем отчет **ДвиженияНоменклатуры**, Создаем макет **ОсновнаяСхемаКомпоновкиДанных**
2. Открываем окно редактирования макета **ОсновнаяСхемаКомпоновкиДанных**
3. Вкладка **Наборы данных** => Добавляем набор данных: *Запрос* => Называем набор данных: *Приход*
4. Текст запроса набора данных *Приход*:
```bsl
ВЫБРАТЬ
	ПриходнаяНакладнаяТовары.Номенклатура КАК Номенклатура,
	ПриходнаяНакладнаяТовары.Количество КАК Поступило,
	ПриходнаяНакладнаяТовары.Сумма КАК СуммаПоступления
ИЗ
	Документ.ПриходнаяНакладная.Товары КАК ПриходнаяНакладнаяТовары
```
4. Вкладка **Наборы данных** => Добавляем набор данных: *Запрос* => Называем набор данных: *Расход*
5. Текст запроса набора данных *Расход*:
```bsl
ВЫБРАТЬ
	РасходнаяНакладнаяТовары.Номенклатура КАК Номенклатура,
	РасходнаяНакладнаяТовары.Количество КАК Продано,
	РасходнаяНакладнаяТовары.Сумма КАК СуммаПродажи
ИЗ
	Документ.РасходнаяНакладная.Товары КАК РасходнаяНакладнаяТовары
```
![[Pasted image 20240920100219.png]]
6. Вкладка **Связи наборов данных** => Связываем два набора данных по полю *Номенклатура*
![[Pasted image 20240920100343.png]]
7. Вкладка **Ресурсы** => Переносим все поля ресурсов нажатием кнопки **[>>]**
![[Pasted image 20240920100559.png]]
8. Вкладка **Настройки** => Определяем настройки отчета:
- Создаем группировку *Детальные записи*
- Выбираем поле *Номенклатура* и ресурсы: *Поступило*, *Продано*, *СуммаПоступения*, *СуммаПродажи*
![[Pasted image 20240920100957.png]]
9. Вкладка **Настройки** => Другие настройки => Макет оформления => **Античный**
