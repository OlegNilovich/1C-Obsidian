```bsl
&НаКлиенте
Процедура ПолучитьКурсыВалют(Команда)
	
	//Адрес:    https://www.nbrb.by/api/exrates/rates?periodicity=0
	
	//1. Создание соединения
	Сервер = "www.nbrb.by";
	Порт = 443;
	Таймаут = 15;
	ЗащищеноеСоединение = Новый ЗащищенноеСоединениеOpenSSL();
	HTTPСоединение = Новый HTTPСоединение(Сервер,Порт,,,,Таймаут,ЗащищеноеСоединение,);
	
	//2. Создание запроса
	АдресРесурса = "/api/exrates/rates?periodicity=0";
	Заголовки = Новый Соответствие;
	HTTPЗапрос = Новый HTTPЗапрос(АдресРесурса, Заголовки);
	
	//3. Отправка запроса
	Ответ = HTTPСоединение.Получить(HTTPЗапрос);				//первый вариант
	Ответ = HTTPСоединение.ВызватьHTTPМетод("GET", HTTPЗапрос);	//второй вариант
	
	//4. Обработка результата
	Если Ответ.КодСостояния = 200 Тогда
		Результат = Ответ.ПолучитьТелоКакСтроку();	
		ЧтениеJSON = Новый ЧтениеJSON;
		ЧтениеJSON.УстановитьСтроку(Результат);     
		Курсы = ПрочитатьJSON(ЧтениеJSON, Истина);
	КонецЕсли;

КонецПроцедуры

//============================================================================

&НаКлиенте
Процедура ПолучитьКонтрагентаПоУНП(Команда)

	Сервер = "www.portal.nalog.gov.by";
	Порт = 80;
	Логин = "Администратор";
	Пароль = "";
	Прокси = Новый ИнтернетПрокси(Ложь);
	СоединениеHTTP = Новый HTTPСоединение(Сервер, Порт, Логин, Пароль, Прокси);
	
	Адрес = СтрШаблон("/grp/getData?unp=%1&charset=UTF-8&type=json", УНП);
	Заголовки = Новый Соответствие;
	Заголовки.Вставить("Accept","application/json");
	ЗапросHTTP = Новый HTTPЗапрос(Адрес, Заголовки);
	
	Результат = СоединениеHTTP.Получить(ЗапросHTTP);
	
	Если Результат.КодСостояния <> 200 Тогда
		Сообщить("Не удалось выполнить запрос. Ошибка: " + ОписаниеОшибки());
		Возврат;
	КонецЕсли;
	
	Данные = Результат.ПолучитьТелоКакСтроку();
	ЧтениеJSON = Новый ЧтениеJSON;
	ЧтениеJSON.УстановитьСтроку(Данные);     
	ДанныеКонтрагента = ПрочитатьJSON(ЧтениеJSON, Истина);
	
	СтрокаСоответствие = ДанныеКонтрагента["ROW"];
	
	Для каждого ЭлементСоответствия Из СтрокаСоответствие Цикл
		
		Если ПустаяСтрока(ЭлементСоответствия.Значение) Тогда
			Продолжить;
		КонецЕсли;
		
		Сообщить(ЭлементСоответствия.Ключ + ":" + ЭлементСоответствия.Значение);
		
	КонецЦикла;
	
КонецПроцедуры

//============================================================================

&НаКлиенте
Процедура ПолучитьСклоненияСтроки_Наша(Команда)
	
	Сервер = "ws3.morpher.ru";
	Порт = 443;
	Логин = "Администратор";
	Пароль = "";
	Прокси = Новый ИнтернетПрокси(Ложь);
	Таймаут = 15;
	SSL = Новый ЗащищенноеСоединениеOpenSSL();
	СоединениеHTTP = Новый HTTPСоединение(Сервер,Порт,Логин,Пароль,Прокси,Таймаут,SSL);
	
	Адрес = "/russian/declension?s=" + СтрокаДляСклонения;
	Заголовки = Новый Соответствие;
	Заголовки.Вставить("Accept","application/json");
	ЗапросHTTP = Новый HTTPЗапрос(Адрес, Заголовки);
	
	Результат = СоединениеHTTP.Получить(ЗапросHTTP);
	
	Если Результат.КодСостояния <> 200 Тогда
		Сообщение = Новый СообщениеПользователю;
		Текст = "Ошибка при получении данных, код состояния: %1, %2";
		Сообщить(СтрШаблон(Текст, Результат.КодСостояния, ОписаниеОшибки()));                                                                                              
		Возврат;
	КонецЕсли;
	
	Данные = Результат.ПолучитьТелоКакСтроку();
	ЧтениеJSON = Новый ЧтениеJSON;
	ЧтениеJSON.УстановитьСтроку(Данные);
	РезультатСклонения = ПрочитатьJSON(ЧтениеJSON, Истина);
	
КонецПроцедуры

//============================================================================

Процедура ПолучитьКурсы() Экспорт
	
	//1. получить прокси по статической ссылке
	WSПрокси = WSСсылки.cbrDailyInfo.СоздатьWSПрокси("http://web.cbr.ru/", "DailyInfo", "DailyInfoSoap");
	
	//2. Получить пакет XDTO, в котором описаны типы объектов
	ПакетXDTO = WSПрокси.ФабрикаXDTO.Пакеты.Получить("http://web.cbr.ru/");
	
	//3. Получить тип объекта XDTO, который используется для задания параметра операции веб-сервиса
	ТипGetCourseOnDate = ПакетXDTO.Получить("GetCursOnDate");
	
	//4. Создать ОбъектXTDO с типом параметра
	ПараметрВебСервиса = WSПрокси.ФабрикаXDTO.Создать(ТипGetCourseOnDate);	
	ПараметрВебСервиса.On_date = ДатаЗагрузки;
	
	//5. Вызов метода веб-сервиса
	Результат = WSПрокси.GetCursOnDate(ПараметрВебСервиса);

	Если Результат = Неопределено Тогда
		Сообщить("Не удалось получить курсы валют");
		Возврат;
	КонецЕсли;
	
	СписокВалют = Результат.GetCursOnDateResult.diffgram.ValuteData.ValuteCursOnDate;
	
	Курсы.Очистить();
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	Валюты.Код				КАК Код,
		|	Валюты.СимвольныйКод 	КАК СимвольныйКод,
		|	Валюты.Ссылка			КАК Ссылка
		|ИЗ
		|	Справочник.Валюты		КАК Валюты
		|ГДЕ
		|	НЕ Валюты.ПометкаУдаления";
	
	РезультатЗапроса = Запрос.Выполнить();

	ТаблицаВалют = РезультатЗапроса.Выгрузить();
	ТаблицаВалют.Индексы.Добавить("Код");
	
	Для каждого ОбъектXDTO Из СписокВалют Цикл
		
		СтрокаКурса = Курсы.Добавить();
		СтрокаКурса.Наименование	= ОбъектXDTO.Vname;
		СтрокаКурса.Код				= ОбъектXDTO.Vcode;
		СтрокаКурса.СимвольныйКод	= ОбъектXDTO.VchCode;
		СтрокаКурса.Курс			= ОбъектXDTO.Vcurs;
		СтрокаКурса.Кратность		= ОбъектXDTO.Vnom;
		
		НайденнаяСтрока = ТаблицаВалют.Найти(СтрокаКурса.Код, "Код");
		Если НайденнаяСтрока <> Неопределено Тогда
		  	СтрокаКурса.Валюта = НайденнаяСтрока.Ссылка;
		КонецЕсли;
		
	КонецЦикла;

КонецПроцедуры


Процедура ЗаписатьКурсы() Экспорт
	
	Для каждого СтрокаКурса Из Курсы Цикл
		
		Если СтрокаКурса.Валюта.Пустая() Тогда
			Продолжить;
		КонецЕсли;
		
		Запись = РегистрыСведений.КурсыВалют.СоздатьМенеджерЗаписи();
		Запись.Период		= ДатаЗагрузки;
		Запись.Валюта		= СтрокаКурса.Валюта;
		Запись.Курс			= СтрокаКурса.Курс;
		Запись.Кратность	= СтрокаКурса.Кратность;
		Запись.Записать();
		
	КонецЦикла;

КонецПроцедуры
```