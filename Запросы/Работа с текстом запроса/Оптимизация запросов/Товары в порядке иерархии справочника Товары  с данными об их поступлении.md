### Задача:
Требуется вывести данные обо всех товарах и их производителях с соблюдением иерархии справочника **Товары**. Для каждого товара из справочника нужно вывести дату его поступления и поставщика из документа **ПриходнаяНакладная**.
```bsl
ВЫБРАТЬ
	Товары.Наименование,
	Товары.Производитель,
	Поступление.Ссылка.Дата,
	Поступление.Ссылка.Поставщик
ИЗ
	Справочник.Товары КАК Товары
		ЛЕВОЕ СОЕДИНЕНИЕ Документ.ПриходнаяНакладная.Состав КАК Поступление
		ПО Товары.Ссылка = Поступление.Товар
УПОРЯДОЧИТЬ ПО
	Товары.Наименование ИЕРАРХИЯ
```
### Оптимизация:
В таблице справочника **Товары** автоматически создается индекс по полю *Ссылка*, а для документа **ПриходнаяНакладная** реквизит *Товар* нужно проиндексировать. В этом случае в таблице документа будет создан дополнительный индекс: *Товар + Ссылка*