#ЗАПРОСЫ 

```bsl
&НаКлиенте
Процедура ПродажиТоваровПоДатам(Команда)
	Табдок = Новый ТабличныйДокумент;
	РезультатОтчета = СформироватьОтчетСДополнениемДат(ТабДок, ДатаНачала, ДатаОкончания);
	РезультатОтчета.Показать();
КонецПроцедуры

&НаСервереБезКонтекста
Функция СформироватьОтчетСДополнениемДат(Табдок, ДатаНачала, ДатаОкончания)

	Макет = Обработки.РаботаСЗапросами.ПолучитьМакет("Макет2");
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ПродажиОбороты.Период КАК Период,
		|	ПродажиОбороты.Товар,
		|	ПРЕДСТАВЛЕНИЕ(ПродажиОбороты.Товар),
		|	ПродажиОбороты.Клиент,
		|	ПРЕДСТАВЛЕНИЕ(ПродажиОбороты.Клиент),
		|	ПродажиОбороты.ВыручкаОборот КАК ВыручкаОборот
		|ИЗ
		|	РегистрНакопления.Продажи.Обороты(, , Неделя, ) КАК ПродажиОбороты
		|
		|УПОРЯДОЧИТЬ ПО
		|	Период
		|ИТОГИ
		|	СУММА(ВыручкаОборот)
		|ПО
		|	Период ПЕРИОДАМИ(НЕДЕЛЯ, &ДатаНачала, &ДатаОкончания)";

	Запрос.УстановитьПараметр("ДатаНачала", ДатаНачала);
	Запрос.УстановитьПараметр("ДатаОкончания", ДатаОкончания);

	РезультатЗапроса = Запрос.Выполнить();

	ОбластьЗаголовок = Макет.ПолучитьОбласть("Заголовок");
	ОбластьПодвал = Макет.ПолучитьОбласть("Подвал");
	ОбластьШапкаТаблицы = Макет.ПолучитьОбласть("ШапкаТаблицы");
	ОбластьПодвалТаблицы = Макет.ПолучитьОбласть("ПодвалТаблицы");
	ОбластьПериод = Макет.ПолучитьОбласть("Период");
	ОбластьДетальныхЗаписей = Макет.ПолучитьОбласть("Детали");

	ТабДок.Очистить();
	
	ОбластьЗаголовок.Параметры.ДатаНачала = Формат(ДатаНачала,"ДФ=дд.ММ.гггг");
	ОбластьЗаголовок.Параметры.ДатаОкончания = Формат(ДатаОкончания,"ДФ=дд.ММ.гггг");
	ТабДок.Вывести(ОбластьЗаголовок);
	ТабДок.Вывести(ОбластьШапкаТаблицы);
	ТабДок.НачатьАвтогруппировкуСтрок();

	ВыборкаПериод = РезультатЗапроса.Выбрать(ОбходРезультатаЗапроса.ПоГруппировкам, "Период", "ВСЕ");

	Пока ВыборкаПериод.Следующий() Цикл
		ОбластьПериод.Параметры.Заполнить(ВыборкаПериод);
		ТабДок.Вывести(ОбластьПериод, ВыборкаПериод.Уровень());

		ВыборкаДетальныеЗаписи = ВыборкаПериод.Выбрать();

		Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
			ОбластьДетальныхЗаписей.Параметры.Заполнить(ВыборкаДетальныеЗаписи);
			ТабДок.Вывести(ОбластьДетальныхЗаписей, ВыборкаДетальныеЗаписи.Уровень());
		КонецЦикла;
	КонецЦикла;

	ТабДок.ЗакончитьАвтогруппировкуСтрок();
	ТабДок.Вывести(ОбластьПодвалТаблицы);
	ТабДок.Вывести(ОбластьПодвал);

	Возврат ТабДок;
	
КонецФункции
```