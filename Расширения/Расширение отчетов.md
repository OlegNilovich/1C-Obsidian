### Изменение макета:
#### Задача:
Для отчета "Продажи" основной конфигурации, требуется изменить цветовую схему с "Античный" на "Зеленый", используя механизм расширений.
![[Pasted image 20240830103540.png]]
#### Решение:
1. Добавляем "ОсновнуюСхемуКомпоновкиДанных" отчета "Продажи" в расширение
![[Pasted image 20240830102751.png]]
2. Открываем "ОсновнуюСхемуКомпоновкиДанных" отчета "Продажи" в конфигурации расширения
3. Настройки => Другие настройки => Макет оформления => Зеленый
![[Pasted image 20240830103155.png]]
4. Убеждаемся что у "ОсновнойСхемыКомпоновкиДанных" свойство Макет = Модифицируемое
![[Pasted image 20240830103331.png]]

---

### Добавление нового макета:
#### Задача:
Требуется подменить макет "ОсновнаяСхемаКомпоновкиДанных" отчета "Продажи" в основной конфигурации на макет "Расш1_СхемаКомпоновкиДанных" из конфигурации расширения.
**Изначальный макет:**
![[Pasted image 20240830111011.png]]
**Макет расширения:**
![[Pasted image 20240830110443.png]]
#### Решение:
1. В расширении создаем новую схему компоновки данных "Расш1_СхемаКомпоновкиДанных"
![[Pasted image 20240830104049.png]]
2. Открываем схему компоновки данных. Создаем набор данных "Запрос"
![[Pasted image 20240830104255.png]]
3. Определяем текст запроса:
```bsl
ВЫБРАТЬ
	ПродажиОбороты.Организация КАК																	Организация,
	ПродажиОбороты.Контрагент КАК																		Контрагент,
	ПродажиОбороты.Номенклатура КАК																	Номенклатура,
	ПродажиОбороты.СуммаОборот КАК																	Выручка,
	ПродажиОбороты.СебестоимостьОборот КАК														Себестоимость,
	ПродажиОбороты.СуммаОборот - ПродажиОбороты.СебестоимостьОборот КАК		Прибыль
ИЗ
	РегистрНакопления.Продажи.Обороты КАК															ПродажиОбороты
```
4. Открываем конструктор запроса => Жмем ОК => Соглашаемся на вопрос
![[Pasted image 20240830105657.png]]
5. Определяем ресурсы:
![[Pasted image 20240830104549.png]]
6. Переходим в настройки => открываем конструктор отчета => Выбираем Таблицу => Далее
![[Pasted image 20240830104848.png]]
7. Выбираем поля "Контрагент", "Номенклатура", "Прибыль" => Далее
![[Pasted image 20240830105026.png]]
8. Определяем колонки и строки: Контрагент (Колонки), Номенклатура (Строки)
![[Pasted image 20240830105154.png]]
9. Включаем отображение параметров периода в командной панели отчета
![[Pasted image 20240830110259.png]]
10. В свойствах отчета "Продажи", выбираем нашу схему компоновки данных
![[Pasted image 20240830105459.png]]