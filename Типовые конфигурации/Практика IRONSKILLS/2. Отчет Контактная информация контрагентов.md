Шаблон: [[Отчет (глобальный)]]
### Задача:
Требуется создать отчет, отображающий контактную информацию контрагентов в виде кросс-таблицы
![[Pasted image 20241114095349.png]]
### Решение:

#### Конфигуратор:

1. Копируем шаблон [[Отчет (глобальный)]] и называем его *ПР_КонтактыКонтрагентов*
2. Открываем *схему компоновки данных* отчета
![[Pasted image 20241114093153.png]]

3. Добавляем набор данных *Запрос*, текст запроса:
```bsl
ВЫБРАТЬ
	КонтрагентыКонтактнаяИнформация.Ссылка КАК Контрагент,
	КонтрагентыКонтактнаяИнформация.Вид КАК Вид,
	КонтрагентыКонтактнаяИнформация.Представление КАК Значение
ИЗ
	Справочник.Контрагенты.КонтактнаяИнформация КАК КонтрагентыКонтактнаяИнформация
ГДЕ
	НЕ КонтрагентыКонтактнаяИнформация.Ссылка.ПометкаУдаления
```

4. Определяем ресурс отчета. Поле: *Значение*, Выражение: *Значение*
![[Pasted image 20241114093949.png]]

5. Меняем представление отчета на *Контакты контрагентов*
![[Pasted image 20241114095134.png]]

6. Определяем структуру отчета и выбранные поля
![[Pasted image 20241114094226.png]]

7. Определяем *Макет оформления*, отключаем *общие итоги* по горизонтали и по вертикали
![[Pasted image 20241114094611.png]]

#### 1С:Предприятие

1. Проверяем результат: Открываем и формируем внешний отчет, если все в порядке, то добавляем его в справочник: *Дополнительные отчеты и обработки*
![[Pasted image 20241114094723.png]]
![[Pasted image 20241114095426.png]]
![[Pasted image 20241114095349.png]]

2. Добавляем наш отчет в справочник *Дополнительные отчеты и обработки*
![[Pasted image 20241114100029.png]]

3. Размещаем его в разделе *Продажи* и нажимаем кнопку *Записать и закрыть*
![[Pasted image 20241114100214.png]]

4. Переходим в раздел *Продажи* => Аналитика => Отчеты
![[Pasted image 20241114100503.png]]

5. Внешние => Контакты контрагентов
![[Pasted image 20241114100555.png]]


