Шаблон: [[ЗаполнениеОбъекта_БезЗаписи]]
### Задача:

В документе "Заказ поставщику" требуется реализовать расчет скидок в табличной части по следующему алгоритму: Если количество товара больше 50 штук, тогда скидка 10%
### Решение:

#### Конфигуратор:

1. Копируем шаблон [[ЗаполнениеОбъекта_БезЗаписи]] и называем его *ПР_РасчитатьСкидкиВЗаказеПоставщику*
2. Модуль объекта:
```bsl

#Область ПрограммныйИнтерфейс

Функция СведенияОВнешнейОбработке() Экспорт
	
	ИмяОбработки = ЭтотОбъект.Метаданные().Имя; 
	Синоним = ЭтотОбъект.Метаданные().Синоним; 
	Синоним = ?(ЗначениеЗаполнено(Синоним),Синоним, ИмяОбработки);
	
	Вид = ДополнительныеОтчетыИОбработкиКлиентСервер.ВидОбработкиЗаполнениеОбъекта();
	ПараметрыРегистрации = ДополнительныеОтчетыИОбработки.СведенияОВнешнейОбработке("2.2.2.1");
	ПараметрыРегистрации.Вид					= Вид;
	ПараметрыРегистрации.Версия				= "1.0.0.1";
	ПараметрыРегистрации.Наименование		= Синоним;
	ПараметрыРегистрации.БезопасныйРежим	= Ложь;
	ПараметрыРегистрации.Информация			= "Обработка заполнения";
	
	ПараметрыРегистрации.Назначение.Добавить("Документ.ЗаказПоставщику");
	
	Использование = ДополнительныеОтчетыИОбработкиКлиентСервер.ТипКомандыЗаполнениеФормы();
	Команда = ПараметрыРегистрации.Команды.Добавить();
	Команда.Представление			= Синоним;
	Команда.Идентификатор			= ИмяОбработки;
	Команда.Использование			= Использование;
	Команда.ПоказыватьОповещение	= Истина;
	
	Возврат ПараметрыРегистрации; 
	
КонецФункции

Процедура ВыполнитьКоманду(ИмяКоманды, ОбъектыНазначения, ПараметрыВыполнения) Экспорт
	
	ЭтаФорма = ПараметрыВыполнения.ЭтаФорма;
	Объект = ЭтаФорма.Объект;
	//Объект = Документы.ЗаказПоставщику.ПустаяСсылка(); // УДАЛИТЬ!!!!!!!!!!!!!!!!!!!
	
	Для Каждого ТекСтрока Из Объект.Запасы Цикл
		
		Если ТекСтрока.Количество > 50  Тогда
			ТекСтрока.ПроцентСкидкиНаценки = 10;
			ПараметрыРасчета = Новый Структура("РассчитатьСуммуСкидки", Истина);
			ПараметрыРасчета.Вставить("СуммаВключаетНДС", Объект.СуммаВключаетНДС);
			ТабличныеЧастиУНФКлиентСервер.РассчитатьСуммыВСтрокеТЧ(ТекСтрока, ПараметрыРасчета);
		КонецЕсли;
		
	КонецЦикла;
	
	ОбщегоНазначения.СообщитьПользователю("Скидки расчитаны успешно");
	ЭтаФорма.Модифицированность = Истина;
	
КонецПроцедуры

#КонецОбласти
```