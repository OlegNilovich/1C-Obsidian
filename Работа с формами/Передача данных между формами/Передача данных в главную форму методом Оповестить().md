#ФОРМЫ 
### Задача:
Требуется передать данные из подчиненной формы в главную методом [[Оповестить()]]
### Решение:
Создаем обработку и две формы "ГлавнаяФорма" и "ПодчиненнаяФорма"
##### Главная форма:
1. Открываем редактор главной формы
2. Создаем реквизит "Товары". С колонками: "Товар", "Количество", "Цена"
3. Создаем команду "ОткрытьПодчиненнуюФорму" и обработчик ее действия (&НаКлиенте)
4. Создаем обработчик события формы "ОбработкаОповещения"
![[Pasted image 20240826031230.png]]
5. Модуль формы:
```bsl
&НаКлиенте
Процедура ОбработкаОповещения(ИмяСобытия, Параметр, Источник)
	Если ИмяСобытия = "СписокТоваровПередан" Тогда
		ТоварыИзПодчиненнойФормы = Параметр;
		Для каждого Товар Из ТоварыИзПодчиненнойФормы Цикл
			НоваяСтрока = Товары.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, Товар);
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура ОткрытьПодчиненнуюФорму(Команда)
	ПутьКФорме = "Обработка.ПередачаДанныхВГлавнуюФорму.Форма.ПодчиненнаяФорма";
	Оповещение = Новый ОписаниеОповещения("ПринятьДанныеПодчиненнойФормы", ЭтотОбъект);
	Режим = РежимОткрытияОкнаФормы.БлокироватьОкноВладельца;
	ОткрытьФорму(ПутьКФорме ,, ЭтотОбъект,,,, Оповещение, Режим);
КонецПроцедуры
```
##### Подчиненная форма:
1. Открываем редактор Подчиненной формы
2. Создаем реквизит "Товары" (ТаблицаЗначений) и колонки: "Товар", "Количество", "Цена"
3. Создаем команду "ПередачаДанныхМетодомОповестить"
4. Создаем обработчик события формы "ПриСозданииНаСервере"
4. Модуль формы:
```bsl
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)

	НоваяСтрока = Товары.Добавить();
	НоваяСтрока.Товар = "Ложка";
	НоваяСтрока.Количество = 5;
	НоваяСтрока.Цена = 100;
	
	НоваяСтрока = Товары.Добавить();
	НоваяСтрока.Товар = "Вилка";
	НоваяСтрока.Количество = 7;
	НоваяСтрока.Цена = 150;
	
	НоваяСтрока = Товары.Добавить();
	НоваяСтрока.Товар = "Нож";
	НоваяСтрока.Количество = 9;
	НоваяСтрока.Цена = 200;

КонецПроцедуры

&НаКлиенте
Процедура ПередачаДанныхМетодомОповестить(Команда)
	Оповестить("СписокТоваровПередан", Товары, ЭтотОбъект);
	Закрыть();
КонецПроцедуры
```