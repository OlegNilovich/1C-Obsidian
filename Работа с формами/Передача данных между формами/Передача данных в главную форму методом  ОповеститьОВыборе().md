#ФОРМЫ 
### Задача:
Требуется передать данные из подчиненной формы в главную методом [[ОповеститьОВыборе()]]
### Решение:
Создаем обработку и две формы "ГлавнаяФорма" и "ПодчиненнаяФорма"
###### Главная форма:
1. Открываем редактор главной формы
2. Создаем реквизит "Товары". С колонками: "Товар", "Количество", "Цена"
3. Создаем команду "ОткрытьПодчиненнуюФорму" и обработчик ее действия (&НаКлиенте)
4. Создаем обработчик события формы "ОбработкаВыбора"
![[Pasted image 20240826032412.png]]
5. Модуль формы:
```bsl
&НаКлиенте
Процедура ОткрытьПодчиненнуюФорму(Команда)
	ПутьКФорме = "Обработка.ПередачаДанныхВГлавнуюФорму.Форма.ПодчиненнаяФорма";
	Оповещение = Новый ОписаниеОповещения("ПринятьДанныеПодчиненнойФормы", ЭтотОбъект);
	Режим = РежимОткрытияОкнаФормы.БлокироватьОкноВладельца;
	ОткрытьФорму(ПутьКФорме ,, ЭтотОбъект,,,, Оповещение, Режим);
КонецПроцедуры

&НаКлиенте
Процедура ОбработкаВыбора(ВыбранноеЗначение, ИсточникВыбора)
	ИмяПодчиненнойФормы = "Обработка.ПередачаДанныхВГлавнуюФорму.Форма.ПодчиненнаяФорма";
	Если ИсточникВыбора.ИмяФормы = ИмяПодчиненнойФормы Тогда
		ТоварыИзПодчиненнойФормы = ВыбранноеЗначение;
		Для каждого ТоварИзПодчиненнойФормы Из ТоварыИзПодчиненнойФормы Цикл
			НоваяСтрока = Товары.Добавить();
			ЗаполнитьЗначенияСвойств(НоваяСтрока, ТоварИзПодчиненнойФормы);
		КонецЦикла;
	КонецЕсли;
КонецПроцедуры
```

###### Подчиненная форма:
1. Открываем редактор Подчиненной формы
2. Создаем реквизит "Товары" (ТаблицаЗначений) и колонки: "Товар", "Количество", "Цена"
3. Создаем команду "ПередачаДанныхМетодомОповеститьОВыборе"
4. Создаем обработчик события формы "ПриСозданииНаСервере"
4. Модуль формы:
```bsl
&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)

	НоваяСтрока = Товары.Добавить();
	НоваяСтрока.Товар = "Ложка";
	НоваяСтрока.Количество = 5;
	НоваяСтрока.Цена = 100;
	
	НоваяСтрока = Товары.Добавить();
	НоваяСтрока.Товар = "Вилка";
	НоваяСтрока.Количество = 7;
	НоваяСтрока.Цена = 150;
	
	НоваяСтрока = Товары.Добавить();
	НоваяСтрока.Товар = "Нож";
	НоваяСтрока.Количество = 9;
	НоваяСтрока.Цена = 200;

КонецПроцедуры

&НаКлиенте
Процедура ПередачаДанныхМетодомОповеститьОВыборе(Команда)
	ОповеститьОВыборе(Товары);
КонецПроцедуры
```