#ОТЧЕТЫ  [[ВычислитьВыражениеСГруппировкойМассив()]]

### Задача:

Требуется вывести в отчет, номера скидочных карт клиентов в одной ячейке
![[Pasted image 20241104203345.png]]

### Решение:
1. Создаем отчет **ТопДесятьКлиентов**
2. Открываем *Схему компоновки данных* и добавляем набор данных *Запрос:*
```bsl
ВЫБРАТЬ
	ПродажиОбороты.Клиент КАК Клиент,
	СкидочныеКарты.НомерКарты КАК НомерКарты,
	ПродажиОбороты.СуммаОборот КАК СуммаЗаказов
ИЗ
	РегистрНакопления.Продажи.Обороты КАК ПродажиОбороты
		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СкидочныеКарты КАК СкидочныеКарты
		ПО ПродажиОбороты.Клиент = СкидочныеКарты.Клиент
```

3. Создаем вычисляемое поле *НомераКарт*
![[Pasted image 20241104204117.png]]

3. Определяем ресурсы:
*Поле:* НомераКарт
*Выражение:* ВычислитьВыражениеСГруппировкойМассив("НомерКарты")
*Рассчитывать по:* Клиент

*Поле:* СуммаЗаказов
*Выражение:* Сумма(СуммаЗаказов)

![[Pasted image 20241104212944.png]]

4. Настраиваем структуру отчета
![[Pasted image 20241104205008.png]]